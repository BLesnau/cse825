<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>

    <title>Man-In-The-Middle Attacks</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <link href="css/site.css" rel="stylesheet">
</head>

<body>

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" style="font-weight: bolder; color: #00AA8C" href="home.html">Man-In-The-Middle Attacks</a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="home.html">Home</a></li>
                    <li class="active dropdown"><a class="dropdown-toggle" data-toggle="dropdown">Homework <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li class="active"><a href="homework1.html">Part 1: HTTP Sniffing</a></li>
                            <li><a href="homework2.html">Part 2: Chrome Extension</a></li>
                            <li><a href="deliverables.html">Devliverables</a></li>
                        </ul>
                    </li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="starter-template">
            <h2 style="text-decoration: underline">Homework Part 1: HTTP Sniffing</h2>
            <br />

            <h4><b>The Goal</b></h4>
            <p>
                For this part of the homework we will be looking at a man-in-the middle attack involving the intecepting
                and sniffing of HTTP packets that were not originally meant for you. By making use of a sniffing tool combined
                with what is known as an ARP attack, we can both intercept and read packets that were meant for a different
                machine on the network. After you are done reading these packets you can forward them to the intended machine
                leaving the victim none the wiser.
            </p>

            <br />

            <h4><b>Getting Started</b></h4>
            <ol>
                <li>
                    <p>You will need to download and install <a href="https://my.vmware.com/web/vmware/free#desktop_end_user_computing/vmware_player/6_0">VMware player</a></p>
                </li>
            </ol>
            <p>
                We will be using VMware player to run a VM that will be used to sniff traffic meant for your main machine. There
                is a version of it for windows and linux, so it is required that you have one of these types of machines. Having
                a windows VM will probably not work since in most cases you cannot run a VM inside a VM. The download is about 100 MB.
            </p>
            <ol start="2">
                <li>
                    <p>You will need to download an image of <a href="http://www.offensive-security.com/kali-llnux-vmware-arm-image-download/">Kali Linux</a></p>
                </li>
            </ol>
            <p>
                Just the basic 32/64-bit version should work fine (not the ARM images). The download is about 2.5 GB.
                The image is in a .7z file so you will need <a href="http://www.7-zip.org/download.html">7-Zip</a> to extract it.
                Open the .7z with 7zFM.exe and extract it. The image is about 10.9 GB unzipped because of the reserved harddrive space
                in the VM so make sure you have space for it.
            </p>
            <ol start="3">
                <li>
                    <p>Mount the image in VMware player</p>
                </li>
            </ol>
            <p>
                Open your newly extracted .vmx file with VMware player.
            </p>
            <img src="images/mount-image.png" width="80%" />
            <p />
            <ol start="4">
                <li>
                    <p>Launch the VM and login</p>
                </li>
            </ol>
            <p>
                When prompted to login select "Other...". Type in "root" when prompted for a username and "toor" when prompted for a password.
            </p>
            <ol start="5">
                <li>
                    <p>Launch Wireshark</p>
                </li>
            </ol>
            <p>It can be found under Applications -> Kali Linus -> Sniffing/Spoofing -> Network Sniffers -> wireshark.</p>
            <img src="images/wireshark.png" width="60%" />
            <p>
                You may get some errors about certain libraries failing to load or warnings about sniffing while being root
                but these can be ignored.
            </p>
            <p>
                Select the network "eth0" which is the main ethernet network the VM.
            </p>
            <img src="images/start-sniffing.png" width="60%" />
            <p>
                To start sniffing click "Start" (No need to do so yet). When you do chances are you will start getting too many packets
                to count and it will be very difficult to pick the ones you are looking for out. To fixed this go to the menu
                item "Analyze -> Display Filters..." and select "HTTP" from the list of packet types and click "OK".
            </p>
            <img src="images/http-filter.png" width="50%" />
            <p />
            <ol start="7">
                <li>
                    <p>Navigate to [TODO] to begin receiving HTTP traffic that can be sniffed</p>
                </li>
            </ol>

            <br />

            <h3><b>Traffic Sniffing</b></h3>
            <p>
                For this part of the homework, you will monitor different types of network traffic and report what you see. 
                You will use the "wget" command to download some apps that we have created for you to use, so just make sure 
                that you are downloading them into the directory that you want.
            </p>
            <ol start="8">
                <li>
                    <p>Run Wireshark during these sniffing exercises.</p>
                </li>
            </ol>
            <p>
                You can filter what you see in Wireshark by using the filter field near the top of the application. You can 
                type into it manually or right click on items in the list and add fileters based on them. For example, it will 
                be useful to filter by IP for this part of the homework.
            </p>
            <p><u><b>TCP Sniffing</b></u></p>
            <p>TCP sniffing will allow you to see low level individual packets that are being sent across a network.</p>
            <ol start="9">
                <li>
                    <p>Run "wget http://mitm.azurewebsites.net/AzureSite/files/tcp_client>"</p>
                </li>
                <li>
                    <p>Run "tcp_client". This will send TCP traffic for you to monitor.</p>
                </li>
                <li>
                    <p>Observe the traffic in Wireshark and report what you see by taking a screenshot.</p>
                </li>
            </ol>
            <p><u><b>HTTP Sniffing</b></u></p>
            <p>HTTP sniffing will allow you to see higher level web requests being sent across a network. Under the hood, each of these HTTP requests is made up of multple TCP packets.</p>
            <ol start="12">
                <li>
                    <p>Run "wget http://mitm.azurewebsites.net/AzureSite/files/http_client>"</p>
                </li>
                <li>
                    <p>Run "http_client". This will send HTTP traffic for you to monitor.</p>
                </li>
                <li>
                    <p>Observe the traffic in Wireshark and report what you see by taking a screenshot.</p>
                </li>
            </ol>
            <p><u><b>HTTPS Sniffing</b></u></p>
            <p>HTTPS sniffing will allow you to see higher level web requests similar to HTTP requests. The requests payload in these cases are considered secure and will appear encrypted.</p>
            <ol start="15">
                <li>
                    <p>Run "wget http://mitm.azurewebsites.net/AzureSite/files/https_client>"</p>
                </li>
                <li>
                    <p>Run "https_client". This will send HTTPS traffic for you to monitor.</p>
                </li>
                <li>
                    <p>Observe the traffic in Wireshark and report what you see by taking a screenshot.</p>
                </li>
            </ol>
            <h3><b>Part [TODO] Deliverables</b></h3>
            <ul>
                <li>[TODO]</li>
            </ul>
        </div>
    </div>
    <!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
</body>
</html>
